<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.happyjob.study.repository.mypage.MyPageMapper">
	<select id="getTell"
			resultType="String"
			parameterType="Map">
		select
                CONCAT( SUBSTR(hp, 1, 3), '-', SUBSTR(hp, 4, 4), '-', SUBSTR(hp, 8, 4)) AS TELL
		from
			    tb_userinfo
		where
			    loginID = #{loginId}
	</select>
	
	<update id="updInfo" parameterType="Map">
		update	tb_userinfo
		   set  name = #{name}
		   		,hp = REPLACE(#{tell}, '-', '')
		   		<if test="password != '' and password != null">
					,password = #{password}
			    </if>
		where	loginID = #{loginId}
	</update>
	
	<update id="resign" parameterType="Map">
		update	tb_userinfo
		   set  del_yn = 'Y'
		where	loginID = #{loginId}
	</update>
</mapper>